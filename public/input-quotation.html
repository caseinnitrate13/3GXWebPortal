<div class="pagetitle">
    <h1>Quotations</h1>
</div>

<div class="card mt-4">
    <div class="card-body">
        <div class="row justify-content-between m-4">
            <div id="error-container" class="alert alert-danger d-none"></div>
            <div class="col-md-4">
                <div class="d-flex mb-2">
                    <div>RFQ No. : </div> &ensp; <span id="rfqNoSpan"></span>
                </div>
                <div class="d-flex mb-2">
                    <div>RFQ Date :</div> &ensp; <span id="rfqDateSpan"></span>
                </div>
                <div class="d-flex mb-2">
                    <div>Valid Until :</div> &ensp; <span id="validUntilSpan"></span>
                </div>
                <div class="d-flex mb-2">
                    <div>ABC :</div> &ensp; â‚±<span id="abcSpan"></span>
                </div>
            </div>

            <div class="col-md-5">
                <div class="row">
                    <label for="QuotationNo" class="col-sm-4 col-form-label ">Quotation No. :</label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control-plaintext border-bottom-custom" id="quotationNoInput"
                            required>
                    </div>
                </div>
                <div class="row">
                    <label for="QuotationDate" class="col-sm-4 col-form-label ">Quotation Date :</label>
                    <div class="col-sm-4">
                        <input type="date" class="form-control-plaintext border-bottom-custom" id="quotationDateInput"
                            required>
                    </div>
                </div>
                <div class="row">
                    <label for="TotalValue" class="col-sm-4 col-form-label ">Total Value :</label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control-plaintext border-bottom-custom" id="totalValueInput"
                            required>
                    </div>
                </div>
            </div>
        </div>

        <!-- terms and condition -->
        <div class="d-flex justify-content-center text-center mt-5 fw-bold">
            <p>TERMS AND CONDITIONS</p>
        </div>

        <div id="conditions">
            <!--terms and condition here -->
        </div>

        <!-- item table -->
        <div class="table-responsive mt-5">
            <table class="table overflow-hidden align-middle">
                <thead class="table-secondary text-center ">
                    <tr>
                        <th style="width: 150px;">Item</th>
                        <th style="width: 200px;">Description</th>
                        <th style="width: 80px;">Unit</th>
                        <th style="width: 80px;">Quantity</th>
                        <th style="width: 200px;">Special Request</th>
                        <th style="width: 250px;">Unit Price</th>
                        <th style="width: 250px;">Total Price</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- note -->
        <div class="d-flex justify-content-center text-center mt-5 fw-bold">
            <p>NOTE</p>
        </div>

        <div id="note">
            <!--note here -->
        </div>

        <div class="d-flex justify-content-between align-items-center mt-5 mb-5 px-5">
            <!-- download attachments -->
            <div id="clientattachment">
                <a href="assets/img/3GX LOGO HD.png" download class="btn btn-dashed outlined-btn">
                    <i class="bi bi-download me-2"></i>Download Attachments
                </a>
            </div>

            <!-- add attachments -->
            <div>
                <button type="button" id="attachBtn" class="btn btn-dashed outlined-btn" data-bs-toggle="modal"
                    data-bs-target="#attachmentModal">
                    <i class="bi bi-paperclip me-1"></i>Add Attachments
                </button>
            </div>
        </div>

        <div class="d-flex flex-column flex-md-row justify-content-md-between align-items-end pt-0 px-5 pb-5 gap-3">
            <!-- client signature Preview -->
            <div class="mt-2">
                <div class="d-flex justify-content-end align-content-end">
                    <div id="adminSignContainer">
                        <div id="clientSignature" class="d-flex justify-content-center align-content-center">
                            <img src="assets/img/signature.jpg" alt="Admin Signature">
                        </div>
                    </div>
                </div>

                <div class="repName-container" id="clientRepNameContainer">
                    <p class="border-bottom-custom text-center fw-bold">Representative Name</p>
                    <p class="text-center">Representative Company</p>
                </div>
            </div>

            <div class="mt-2">
                <!-- upload signature -->
                <div class="d-flex justify-content-end align-content-end mt-5" data-bs-toggle="modal"
                    data-bs-target="#signatureModal">
                    <button type="button" id="uploadSignBtn" class="btn btn-dashed outlined-btn"><i
                            class="bi bi-paperclip me-1"></i>Upload Signature</button>
                </div>

                <!-- signature pad-->
                <div class="d-flex justify-content-end align-content-end mt-3" data-bs-toggle="modal"
                    data-bs-target="#signaturePadModal">
                    <button type="button" id="signPadBtn" class="btn btn-dashed outlined-btn"><i
                            class="bi bi-pencil-square me-1"></i>Use Signature Pad</button>
                </div>

                <div class="d-flex justify-content-end align-content-end">
                    <div id="previewContainer">
                        <button id="closePreview" type="button" class="btn-close" aria-label="Close"></button>
                        <div id="signature-preview" class="d-flex justify-content-center align-content-center"></div>
                    </div>
                </div>

                <div class="repName-container">
                    <input id="adminrepreName" type="text"
                        class="form-control-plaintext border-bottom-custom text-center" name="representative-name"
                        placeholder="Enter Your Name" required>
                    <p class="text-center">3GX Solutions</p>
                </div>
            </div>
        </div>

        <div class="d-flex flex-column flex-md-row justify-content-center align-items-center mt-5 pt-3 mb-3 gap-5">
            <button id="declineBtn" type="button" class="btn blue rounded-pill ps-5 pe-5" ddata-bs-dismiss="modal">
                Cancel
            </button>
            <button id="sendtoClientBtn" type="button" class="btn blue rounded-pill ps-5 pe-5">
                Send to Client
            </button>
        </div>

    </div>
</div>


<!-- add attachment modal -->
<div class="modal fade" id="attachmentModal" tabindex="-1" aria-labelledby="attachmentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-md">
        <div class="modal-content card-modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="attachmentModalLabel">Add Attachments</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="fileUploadPreview" class="file-preview">
                    <span><i class="bi bi-plus "></i></span>
                    <h4>Drag File</h4>
                </div>
                <input type="file" id="fileUpload" accept=".doc,.docx" hidden>
                <div class="text-center mt-3">
                    <button id="fileUploadBtn" class="btn outlined-btn border-dark rounded-pill ps-4 pe-4"> <i
                            class="bi bi-upload me-2"></i>Upload File</button>
                </div>
                <div class="invalid-feedback d-none text-center mt-3" id="noUploadedFile">
                    * Please upload a file before saving.
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn blue rounded-pill" id="uploadSaveBtn">Save</button>
            </div>
        </div>
    </div>
</div>


<!-- upload file signature modal -->
<div class="modal fade" id="signatureModal" tabindex="-1" aria-labelledby="signatureModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-md">
        <div class="modal-content card-modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="signatureModalLabel">Upload Signature</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="uploadSignPreview" class="upload-area">
                    <span class="addIcon"><i class="bi bi-plus "></i></span>
                    <h4 class="mb-4 w400">Drag File</h4>
                </div>
                <input type="file" id="fileInput" accept="image/*" hidden>
                <div class="text-center mt-3">
                    <button id="uploadImgBtn" class="btn blue rounded-pill">
                        <i class="bi bi-upload me-2"></i>Upload Signature
                    </button>
                </div>
                <div class="invalid-feedback d-none text-center mt-3" id="noSignatureUploaded">
                    * Please upload signature before saving.
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Cancel</button>
                <button id="saveButton" type="button" class="btn blue rounded-pill">Save</button>
            </div>
        </div>
    </div>
</div>


<!-- signature pad modal -->
<div class="modal fade" id="signaturePadModal" tabindex="-1" aria-labelledby="signaturePadModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-md">
        <div class="modal-content card-modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="signaturePadModalLabel">Create Signature</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="signPadcontainer">
                    <canvas id="signature-pad" class="signature-pad"></canvas>
                    <br>
                    <div class="text-center mt-2">
                        <button id="clear" class="btn outlined-btn rounded-pill"> <i
                                class="bi bi-arrow-clockwise me-1"></i>Refresh</button>
                    </div>
                </div>
                <div class="invalid-feedback text-center d-none" id="emptyCanvas">
                    * Please sign first before saving.
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Cancel</button>
                <!-- Submit button inside the form -->
                <button id="submit" type="submit" class="btn blue rounded-pill">Submit</button>
            </div>
        </div>
    </div>
</div>

<!-- send to supplier modal -->
<div class="modal fade" id="sendClientModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content card-modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Send to Client?</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body card-modal-body">
                <p>Are you sure you want to send this?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary rounded-pill btn-sm"
                    data-bs-dismiss="modal">Cancel</button>
                <button id="sendClientBtn" type="button" class="btn blue rounded-pill btn-sm">Send</button>
            </div>
        </div>
    </div>
</div>